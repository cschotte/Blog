{{/* Single page JSON output for Azure AI Search vector store */}}
{
  "id": {{ .RelPermalink | jsonify }},
  "title": {{ .Title | jsonify }},
  "description": {{ .Description | default .Summary | jsonify }},
  "content": {{ .Content | plainify | jsonify }},
  "content_html": {{ .Content | jsonify }},
  "content_raw": {{ .RawContent | jsonify }},
  "url": {{ .Permalink | jsonify }},
  "relative_url": {{ .RelPermalink | jsonify }},
  "date": {{ .Date.Format "2006-01-02T15:04:05Z07:00" | jsonify }},
  "publishDate": {{ .PublishDate.Format "2006-01-02T15:04:05Z07:00" | jsonify }},
  "lastmod": {{ .Lastmod.Format "2006-01-02T15:04:05Z07:00" | jsonify }},
  "expiryDate": {{ .ExpiryDate.Format "2006-01-02T15:04:05Z07:00" | jsonify }},
  "categories": {{ .Params.categories | default slice | jsonify }},
  "tags": {{ .Params.tags | default slice | jsonify }},
  "featured": {{ .Params.featured | default false }},
  "draft": {{ .Draft }},
  "type": {{ .Type | jsonify }},
  "section": {{ .Section | jsonify }},
  "wordCount": {{ .WordCount }},
  "readingTime": {{ .ReadingTime }},
  "keywords": {{ delimit (union (.Params.tags | default slice) (.Params.categories | default slice)) "," | jsonify }},
  "searchable_content": {{ printf "%s %s %s %s" .Title .Description (.Content | plainify) (delimit (.Params.tags | default slice) " ") | jsonify }},
  "summary": {{ .Summary | plainify | jsonify }},
  "tableOfContents": {{ .TableOfContents | plainify | jsonify }},
  "author": {{ .Params.author | default .Site.Author.name | jsonify }},
  "image": {{ with .Params.featuredImage }}{{ . | jsonify }}{{ else }}""{{ end }},
  "params": {{ .Params | jsonify }},
  "site": {
    "title": {{ .Site.Title | jsonify }},
    "baseURL": {{ .Site.BaseURL | jsonify }},
    "language": {{ .Site.Language.Lang | jsonify }}
  },
  "@timestamp": {{ now.Format "2006-01-02T15:04:05Z07:00" | jsonify }},
  "@type": "page"
}